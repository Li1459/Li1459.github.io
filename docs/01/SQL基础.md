## 多态

多态（Polymorphism）按字面的意思就是“多种状态”。在面向对象语言中，接口的多种不同的实现方式即为多态。引用Charlie Calverts对多态的描述——多态性是允许你将父对象设置成为和一个或更多的他的子对象相等的技术，赋值之后，父对象就可以根据当前赋值给它的子对象的特性以不同的方式运作（摘自“Delphi4 编程技术内幕”）。简单的说，就是一句话：允许将子类类型的指针赋值给父类类型的指针。多态性在Object Pascal和C++中都是通过虚函数（Virtual Function） 实现的。

## 对继承映射的理解

继承关系的映射策略有三种：

1.每个继承结构一张表（table per class hierarchy），不管多少个子类都用一张表。

2.每个子类一张表（table per subclass），公共信息放在一张表，特有信息放在单独的一张表。

3.每个具体类一张表（table per concrete class），有多少个子类就有多少张表。

第一种方式属于单表策略，其优点在于查询子类对象的时候无需多表连接，查询速度快，适合多态查询；缺点是可能导致表很大。

后两种方式属于多表策略，其优点在于数据存储紧凑，其缺点是需要进行连接查询，不适合多态查询。

## JDBC的反射和作用

通过反射com.mysql.Driver类，实例化该类的时候会执行该类内部的静态代码块，该代码块会在Java实现的DriverManager类中注册自己，DriverManager管理所有注册的驱动类，当调用DriverManager.getConnection方法时会遍历这些驱动类，并尝试去连接数据库，只要有一个能连接成功，就会返回Connection对象，否则则会报异常。

## 数据库优化方法

1.选取最适用的字段属性。

2.使用连接（JOIN）来替代子查询（Sub-Queries）MySQL从4.1开始支持SQL的子查询。这个技术可以使用SELECT语句来创建一个单列的查询结果，然后把这个结果作为过滤条件用于空一格查询中。

3.使用联合（UNION）来代替手动创造的临时表MySQL从4.1开始支持union查询，它可以把需要使用得临时表的两条或更多的select查询合并的一个查询中。在客户端的查询会话结束的时候，临时表会被自动删除，从而保证数据库整齐、高效。

4.事务：不是所有的数据库操作都可以只使用一条或少数几条SQL语句就可以完成的，更多的时候是需要用到一系列的语句来完成某项工作。

## JDBC中如何进行事务处理

Connection提供了事务处理的方法，通过调用setAutoCommit（false）可以设置手动提交事务；当事务完成后用commit()显示提交事务；如果在事务处理过程中发生异常则通过rollback()进行事务回滚。。除此之外，从JDBC3.0还引入了Savepoint（保存点）的概念，允许通过代码设置保存点并让事务回滚到指定的保存点。

## 数据库ACID的特性

### 1.原子性：

事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。

### 2.一致性：

事务前后数据的完整性必须保持一致。

### 3.隔离性：

多个用户并发访问数据库时，一个用户的事务不能被其他用户的事务干扰，多个并发事务之间数据要相互隔离。

### 4.持久性：

一个事务一旦提交，它对数据库中的数据的改变就是永久性的，即使数据库发生故障也不应该对其有任何影响。

## 乐观锁悲观锁

### 悲观锁：

假设会发生并发冲突，屏蔽一切可能违反数据完整性的操作

### 乐观锁：

假设不会发生并发冲突，只会提交操作时检查是否违反数据完整性

## 数据库索引底层是如何是实现的，那些情况下索引会失效

是由B+树实现的。

1.没有遵循最左匹配原则。

2.一些关键字会导致索引失效：or ，！=， not in， is null ，is not null。

3.like查询是以%开头。

4.隐式转换会导致索引失效。

5.对索引应用内部函数，索引字段进行了运算。

## MySQL数据库的两种引擎的区别

InnoDB是聚集索引，支持事务，支持行级锁。

MyISAM是非聚集索引，不支持事务，只支持表级锁。

## 什么是数据库索引，以及什么时候用InnoDB什么时候用MyISAM

索引是存储引擎。是对数据库表中的一列或多了的值进行排序的一种结构，使用索引可快速访问数据库表中的特定信息。索引有助于更快地获取信息。索引的一个目的就是加快检索表中数据的方法，即能协助信息搜索者尽快的找到符合限制条件的记录ID的辅助数据结构。

InnoDB主要面向在线事务处理（OLTP)的应用。

MyISAM主要面向一些联机事务处理过程（OLAP）的应用。

## 我们使用JDBC操作数据库时，经常遇到性能问题，如何提升读取数据的性能，以及更新数据的性能？

要提升读取数据的性能可以指定通过结果集（ResultSet）对象setFetchSize()方法指定每次抓取的记录数（典型的空间换时间策略）。

要提升更新数据的性能可以使用PreparedStatement语句构建批处理，将若干SQL语句至于一个批处理中执行。

## Statement和PreparedStatement的区别哪个性能好

1.PreparedStatement接口代表预编译的语句，它主要的优势在于可以减少SQL的编译错误并增加SQL的安全性（减少SQL注射攻击的可能性）。

2.PrepareStatement中的SQL语句时可以带参数的，避免了用字符串连接拼接SQL语句的麻烦和不安全。

3.当批量处理SQL或者频繁的执行相同的查询时，PreparedStatement有明显的性能上优势，由于数据库可以将编译 优化后的SQL语句缓存起来，下次执行相同结构的语句时就会很快（不用再次编译和生成执行计划）。

## 解释JDO以及它的作用

JDO是Java对象持久化的新的规范，为Java data object的简称，也是一个用于存储某种数据仓库中的对象的标准化API。JDO提供了透明的对象存储，因此对开发人员来说，存储数据对象完全不需要额外的代码（如JDBC API的使用）。这些繁琐的例行工作已经转移到JDO产品提供商上，是开发人员解脱出来，从而集中时间和精力在业务逻辑上。另外JDO很灵活，因为他可以在任何数据底层上运行。JDBC只是面向关系数据库（RDBMS) JDO更通用。它提供到任何数据底层的存储功能，比如关系数据库、文件、XML以及对象数据库（ODBMS）等等，使得应用可移植性强，















